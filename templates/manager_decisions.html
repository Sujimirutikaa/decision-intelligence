{% extends "base.html" %}

{% block title %}All Decisions - Manager - Decision Intelligence Platform{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="mb-8 fade-in">
        <h1 class="text-4xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent">
            All Decisions
        </h1>
        <p class="text-white/70">Review and manage all decisions</p>
    </div>

    <!-- Decisions Table -->
    <div class="glass rounded-xl p-6 fade-in" style="animation-delay: 0.1s">
        <div class="overflow-x-auto">
            <table class="w-full">
                <thead>
                    <tr class="border-b border-white/10">
                        <th class="text-left py-4 px-4 text-white/70 font-medium">Title</th>
                        <th class="text-left py-4 px-4 text-white/70 font-medium">Creator</th>
                        <th class="text-left py-4 px-4 text-white/70 font-medium">Category</th>
                        <th class="text-left py-4 px-4 text-white/70 font-medium">Impact</th>
                        <th class="text-left py-4 px-4 text-white/70 font-medium">Status</th>
                        <th class="text-left py-4 px-4 text-white/70 font-medium">Created</th>
                        <th class="text-left py-4 px-4 text-white/70 font-medium">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for decision in decisions %}
                    <tr class="border-b border-white/5 hover:bg-white/5 transition">
                        <td class="py-4 px-4 font-medium">{{ decision.title }}</td>
                        <td class="py-4 px-4 text-white/70">{{ decision.creator.username }}</td>
                        <td class="py-4 px-4">
                            <span class="px-3 py-1 rounded-full text-xs glass bg-purple-500/20 text-purple-300">
                                {{ decision.category }}
                            </span>
                        </td>
                        <td class="py-4 px-4">
                            <span class="px-3 py-1 rounded-full text-xs glass 
                                {% if decision.financial_impact > 100000 %}bg-red-500/20 text-red-300
                                {% else %}bg-yellow-500/20 text-yellow-300{% endif %}">
                                ${{ "{:,.0f}".format(decision.financial_impact) }}
                            </span>
                        </td>
                        <td class="py-4 px-4">
                            <span class="px-3 py-1 rounded-full text-xs glass
                                {% if decision.status == 'pending' %}bg-yellow-500/20 text-yellow-300
                                {% elif decision.status == 'approved' %}bg-green-500/20 text-green-300
                                {% else %}bg-red-500/20 text-red-300{% endif %}">
                                {{ decision.status }}
                            </span>
                        </td>
                        <td class="py-4 px-4 text-white/70 text-sm">{{ decision.created_at.strftime('%Y-%m-%d') }}</td>
                        <td class="py-4 px-4">
                            <a href="{{ url_for('manager_review', decision_id=decision.id) }}"
                                class="px-3 py-1 rounded-lg bg-blue-500/20 hover:bg-blue-500/30 transition text-sm">
                                {% if decision.status == 'pending' %}Review{% else %}View{% endif %}
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}